<style>
    .modal-list-produit {
        width: 260% !important;
        margin-left: -25rem !important;
    }
    td {
        border-bottom: none !important;
    }
    select {
        width: 30% !important;
    }

    .card-table {
        background-color: #f6f9ff;
    }
</style>
<div class="modal fade" id="modalListProduitCategorie" tabindex="-1" aria-labelledby="modalNewLabel" aria-hidden="true">
    <div class="modal-dialog ">
        <div class="modal-content p-4 modal-list-produit">
            <div class="modal-header modal-header-center">
                <h5 class="modal-title fw-bold" id="modalNewLabel">Nouveau produit depuis le catalogue</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                <hr>
                
            </div>
            <div class="modal-body">
                <div class="form-group d-flex align-items-center mt-5">
                    <label for="" class="mr-2">Filtrer par :</label>
                    <select name="" id="" class="form-control form-control-sm">
                        <option value="Filtre 1">Filtre 1</option>
                        <option value="Filtre 2">Filtre 2</option>
                        <option value="Filtre 3">Filtre 3</option>
                    </select>
                </div>
                
                <div class="card-table mt-5 p-5">
                    <table class="table table-striped" id="table-liste-produit" style="width: 100%;">
                        <thead>
                            <tr class="text-nowrap">
                                <th>Actions</th>
                                <th>Ref</th>
                                <th>Intitulé/Détail</th>
                                <th>Gros?</th>
                                <th>Prix vente gros</th>
                                <th>Unite gros</th>
                                <th>Prix vente detail</th>
                                 <th>Unite detail</th>
                                <th>Qtt</th>
                                <th>St.min</th>
                                <th>Stock</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for liste in listes %}
                            <tr class="text-nowrap">
                                <td>
                                    <a onclick="return addPanier(this, {{ affaire.id }});"
                                           class="panier"><i class="bi bi-cart-plus-fill"></i>
                                            <span class="mx-2">Ajouter</span></a>
                                  
                                </td>
                                <td><input type="hidden" name="idProduit"
                                           value="{{ liste.id }}"> 
                                    {% if liste.reference is not null %}
                                        {{liste.reference}} 
                                    {% endif %}
                                </td>
                                <td> {{liste.nom}} </td>
                                <td> 
                                <select name="isGros" class="form-control">
                                    <option value="">Type vente</option>
                                    <option value="1">Oui</option>
                                    <option value="0">Non</option>
                                </select
                                 </td>
                                <td> 
                                    {% if liste.prixVenteGros is not null %}
                                        {{liste.prixVenteGros}} Ar 
                                    {% endif %}
                                </td>
                                <td> 
                                    {% if liste.uniteVenteGros is not null %}
                                        {{liste.uniteVenteGros}}  
                                    {% endif %}
                                </td>
                                 <td> 
                                    {% if liste.prixVenteDetail is not null %}
                                        {{liste.prixVenteDetail}} Ar 
                                    {% endif %}
                                </td>
                                <td> 
                                    {% if liste.uniteVenteDetail is not null %}
                                        {{liste.uniteVenteDetail}}  
                                    {% endif %}
                                </td>
                                <td> 
                                        <input type="text" value="{{ liste.qtt }}" name="qttProduit"
                                               class="form-control">
                           
                                </td>
                                <td> 
                                    {% if liste.stockMin is not null %}
                                        {{liste.stockMin}}
                                    {% endif %}
                                 </td>
                                <td> 
                                    {% if liste.stockRestant is not null %}
                                        {{liste.stockRestant}}
                                    {% endif %} 
                                </td>

                            </tr>
                            {% else %}
                                <tr>
                                    <td colspan="10">Aucun enregistrement trouvé</td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="{{ asset('assets/js/script_utile.js')}}"></script>

<script>
   
   $(document).ready(function() {
    $('#table-liste-produit').DataTable({
        responsive: true,
        language: {
          url: 'https://cdn.datatables.net/plug-ins/1.13.7/i18n/fr-FR.json',
      },
        border: false,
        scrollX: '100%',
        pageLength: 10,
        scrollCollapse: false,
      });
   })
</script>
